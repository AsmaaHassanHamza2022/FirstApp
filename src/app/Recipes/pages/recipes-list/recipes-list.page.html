<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Recipes List</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-list>
    <ion-item>
      <ion-select [(ngModel)]="selectedType" (ionChange)="handleChange($event)"  label="Available Recipes Types" placeholder="Available Recipes Types">
        <ion-select-option *ngFor="let type of RecipesTypes" [value]="type.value">{{type.name}}</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>
  <ng-container *ngIf="!isLoading ; else Loader">
    <ng-container *ngTemplateOutlet="Data"></ng-container>
  </ng-container>
</ion-content>

<ng-template #Data>
  <ion-list>
    <ion-item *ngFor="let item of list" (click)="onItemClick(item)">
      <ion-avatar slot="start">
        <img [alt]="item.title" [src]="item.image_url" />
      </ion-avatar>
      <ion-label>{{item.title}}</ion-label>
    </ion-item>
  </ion-list>
</ng-template>

<ng-template #Loader>
  <ion-grid fixed>
    <ion-row *ngFor="let item of [1,2,3,4,5,6,7,8,9]">
      <ion-col size="2">
        <ion-skeleton-text
          [animated]="true"
          style="width: 50px; height: 50px; border-radius: 50%"
        ></ion-skeleton-text>
      </ion-col>
      <ion-col size="10">
        <ion-skeleton-text
          [animated]="true"
          style="width: 100%; height: 50px"
        ></ion-skeleton-text>
      </ion-col>
    </ion-row>
  </ion-grid>
</ng-template>
